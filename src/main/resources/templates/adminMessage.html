<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
    <meta name="author" content="GeeksLabs">
    <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">
    <!--link rel="shortcut icon" th:href="@{/share/niceAdmin/img/favicon.png}"-->

    <title>Blank | Creative - Bootstrap 3 Responsive Admin Template</title>

    <!-- Bootstrap CSS -->
    <link th:href="@{/share/niceAdmin/css/bootstrap.min.css}" rel="stylesheet">
    <!--flag-->
    <link th:href="@{/share/css/Amir-flag.css}" rel="stylesheet">
    <!-- bootstrap theme -->
    <link th:href="@{/share/niceAdmin/css/bootstrap-theme.css}" rel="stylesheet">
    <!--external css-->
    <!-- font icon -->
    <link th:href="@{/share/niceAdmin/css/elegant-icons-style.css}" rel="stylesheet" />
    <link th:href="@{/share/niceAdmin/css/font-awesome.min.css}" rel="stylesheet" />
    <!-- Custom styles -->
    <link th:href="@{/share/niceAdmin/css/style.css}" rel="stylesheet">
    <link th:href="@{/share/niceAdmin/css/style-responsive.css}" rel="stylesheet" />
    <link th:href="@{/share/css/Amir-Style-Class.css}" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <script src="js/lte-ie7.js"></script>
    <![endif]-->

    <!-- =======================================================
      Theme Name: NiceAdmin
      Theme URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
      Author: BootstrapMade
      Author URL: https://bootstrapmade.com
    ======================================================= -->
</head>

<body>
<!-- container section start -->
<section id="container" class="">
    <!--header start-->
    <span th:insert="fragments/navbar.html" th:remove="tag"/>
    <!--header end-->
    <!--main content start-->
    <section class="wrapper" style="margin-top: 0px;">
        <div class="row">
            <div class="col-lg-12">
                <h3 class="page-header"><i class="fa fa-bars"></i> Pages</h3>
                <ol class="breadcrumb">
                    <li><i class="fa fa-home"></i><a href="index.html">Home</a></li>
                    <li><i class="fa fa-bars"></i>Pages</li>
                    <li><i class="fa fa-square-o"></i>Pages</li>
                </ol>
            </div>
        </div>
        <!-- page start-->
        <div class="row">
            <div class="col-lg-9" style="margin: 0 auto;float: none;">
                <section class="panel" div style="padding:30px;margin: 20px;color: #111;">
                    <div class="ah01-padding15_inner_childs ah01-border_style01_no_width">
                        <div dir="auto" th:text="${adminMessage.title}" class="ah01-row_wrap_space_between"
                             style="border-bottom: 1px solid rgba(0,0,0,.125);font-size: large;">
                        </div>
                        <div dir="auto" th:text="${adminMessage.message}"
                             style="border-bottom: 1px solid rgba(0,0,0,.125);font-size: medium;">
                        </div>
                        <div class="ah01-row_wrap_space_between ah01-margin5_inner_childs"
                             style="background: #d3ebff;padding:0;">
                            <h6 th:text="${adminMessage.date}"></h6>
                            <a th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}"
                               th:attr="onclick=|deleteAdminMessageAndRefresh(${adminMessage.id})|"
                               style="font-size: 10px;padding: 2px;" class="btn-danger btb-sm" href="javascript:void(0)"
                               title="Bootstrap 3 themes generator">[[#{delete.text}]]</a>
                        </div>
                    </div>
                </section>
                <div class="col-lg-8" style="float: none;margin: 0 auto;">
                    <div class="recent">
                        <h3>[[#{leaveUsMessage.text}]]</h3>
                    </div>
                    <div id="sendmessage">Your message has been sent. Thank you!</div>
                    <div id="errormessage"></div>
                    <form th:action="@{'/adminMessages/' + ${adminMessage.id}}" method="post" class="contactForm">
                        <div class="form-group">
                            <input type="text" name="name" class="form-control" id="name" placeholder="Your Name"
                                   data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                            <div class="validation"></div>
                        </div>
                        <div class="form-group">
                                <textarea dir="auto" class="form-control" name="message" rows="5" data-rule="required"
                                          data-msg="Please write something for us" placeholder="Message"></textarea>
                            <div class="validation"></div>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg">[[#{leaveMessage.text}]]</button>
                        </div>
                    </form>
                </div>
                <section th:if="${adminMessage.comments != null AND adminMessage.comments.size() > 0}"
                         class="ah01-margin15_inner_childs panel" div style="padding:30px;margin: 20px;color: #111;">
                    <!--use comments-->
                    <div th:each="comment : ${adminMessage.comments}" th:id=" 'usrcmnt' + ${comment.id}"
                         class="ah01-margin5_all_childs ah01-border_style01_no_width">
                        <div class="ah01-row_wrap_space_between"
                             style="background: aliceblue;border-bottom: 1px solid rgba(0,0,0,.125);">
                            <div th:text="${comment.name}"></div>
                            <div class="ah01-show_in_row">
                                <h6 th:text="${comment.date}"></h6>
                                <a th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}"
                                   th:attr="onclick=|deleteUserCommentMessage(${comment.id})|"
                                   style="font-size: 10px;padding: 2px;" class="btn-danger btb-sm" href="javascript:void(0)"
                                   title="Bootstrap 3 themes generator">[[#{delete.text}]]</a>
                            </div>
                        </div>
                        <div dir="auto" th:text="${comment.message}"></div>
                    </div>
                </section>
            </div>
        </div>
        <!-- page end-->
    </section>

    <!--main content end-->
    <div class="text-right">
        <div class="credits">
            <!--
      All the links in the footer should remain intact.
      You can delete the links only if you purchased the pro version.
      Licensing information: https://bootstrapmade.com/license/
      Purchase the pro version form: https://bootstrapmade.com/buy/?theme=NiceAdmin
    -->
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
    </div>
</section>
<!-- container section end -->
<span th:insert="fragments/navbarJavaScripts.html" th:remove="tag"> </span>
<script th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
    function deleteAdminMessageAndRefresh(id) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            let stts01 = this.status;
            if (stts01 == 200) window.location.replace("[[@{/index/search=/page=1}]]");
        };
        xhttp.open("DELETE", "[[@{/restapi/adminMessage/}]]" + id, true);
        xhttp.send();
    }
    function deleteUserCommentMessage(id) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            let stts01 = this.status;
            if (stts01 == 200) document.getElementById('usrcmnt' + id).remove();
        };
        xhttp.open("DELETE", "[[@{/restapi/userComment/}]]" + id, true);
        xhttp.send();
    }
</script>

</body>

</html>